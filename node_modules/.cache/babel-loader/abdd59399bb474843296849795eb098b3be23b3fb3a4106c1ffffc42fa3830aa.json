{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Row,Col}from'reactstrap';import axios from'axios';import PanelHeader from'components/PanelHeader/PanelHeader.js';import{useAuth}from'../components/AuthContext';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faUser}from'@fortawesome/free-solid-svg-icons';import'./User.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function User(){const{logout,user,setUser}=useAuth();const[profileData,setProfileData]=useState({id:'',nombre:'',correo:'',contrasena:''});useEffect(()=>{if(user){setProfileData({id:user.id,nombre:user.nombre,correo:user.correo,contrasena:user.contrasena});}},[user]);const handleChange=e=>{const{name,value}=e.target;setProfileData({...profileData,[name]:value});};const handleUpdate=async()=>{try{const response=await axios.put('https://backend-4uac.onrender.com/updateProfile',profileData);if(response.data.success){alert('Datos actualizados correctamente');setUser(profileData);}else{alert('Error al actualizar los datos');}}catch(error){console.error('Error al actualizar los datos:',error);alert('Error al actualizar los datos');}};const handleLogout=()=>{logout();};if(!user){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PanelHeader,{size:\"sm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"content user-container\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"8\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"title\",children:\"Editar Perfil\"})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"px-1\",md:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(Input,{name:\"nombre\",value:profileData.nombre,onChange:handleChange,placeholder:\"Nombre\",type:\"text\"})]})}),/*#__PURE__*/_jsx(Col,{className:\"pl-1\",md:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"Correo\"}),/*#__PURE__*/_jsx(Input,{name:\"correo\",value:profileData.correo,onChange:handleChange,placeholder:\"Correo\",type:\"email\"})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Input,{name:\"contrasena\",value:profileData.contrasena,onChange:handleChange,placeholder:\"Contrase\\xF1a\",type:\"password\"})]})})})]})})]})}),/*#__PURE__*/_jsx(Col,{md:\"4\",children:/*#__PURE__*/_jsxs(Card,{className:\"card-user\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image\"}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"author\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"#pablo\",onClick:e=>e.preventDefault(),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUser,className:\"avatar-icon\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"title\",children:user.nombre})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:user.correo})]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:handleUpdate,children:\"Actualizar\"}),/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:handleLogout,children:\"Cerrar Sesi\\xF3n\"})]})]})})]})})]});}export default User;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}