{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Card,CardHeader,CardBody,CardFooter,CardTitle,Row,Col}from\"reactstrap\";import{Line,Bar}from\"react-chartjs-2\";import axios from'axios';import PanelHeader from\"components/PanelHeader/PanelHeader.js\";import CurrentTemperature from\"components/CurrentTemperature.js\";import Clock from\"components/Clock.js\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){const[phData,setPhData]=useState([]);const[temperatureData,setTemperatureData]=useState([]);const[orpData,setOrpData]=useState([]);const[userId]=useState(1);useEffect(()=>{const fetchPhData=async()=>{const response=await axios.get(\"https://backend-4uac.onrender.com/ph-levels?usuario_id=\".concat(userId));setPhData(response.data);};const fetchTemperatureData=async()=>{const response=await axios.get(\"https://backend-4uac.onrender.com/temperature-levels?usuario_id=\".concat(userId));setTemperatureData(response.data);};const fetchOrpData=async()=>{const response=await axios.get(\"https://backend-4uac.onrender.com/orp-levels?usuario_id=\".concat(userId));setOrpData(response.data);};fetchPhData();fetchTemperatureData();fetchOrpData();},[userId]);const chartOptions={maintainAspectRatio:false,responsive:true,scales:{y:{beginAtZero:true}}};const formatPhData={labels:phData.map(data=>data.date),datasets:[{label:'pH',data:phData.map(data=>data.ph),fill:false,borderColor:'rgba(75,192,192,1)',tension:0.1}]};const formatTemperatureData={labels:temperatureData.map(data=>data.date),datasets:[{label:'Temperature',data:temperatureData.map(data=>data.temperature),fill:false,borderColor:'rgba(255,99,132,1)',tension:0.1}]};const formatOrpData={labels:orpData.map(data=>data.date),datasets:[{label:'ORP',data:orpData.map(data=>data.orp),fill:false,borderColor:'rgba(54,162,235,1)',tension:0.1}]};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PanelHeader,{size:\"lg\",content:/*#__PURE__*/_jsx(\"div\",{className:\"header-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"clock-container\",children:[/*#__PURE__*/_jsx(Clock,{}),/*#__PURE__*/_jsx(CurrentTemperature,{userId:userId})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(Card,{className:\"card-chart\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-category\",children:\"Alcalinidad\"}),/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Medidor de pH\"})]}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-area\",style:{height:'350px'},children:/*#__PURE__*/_jsx(Line,{data:formatPhData,options:chartOptions})})}),/*#__PURE__*/_jsx(CardFooter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"now-ui-icons arrows-1_refresh-69\"}),\" Tiempo real\"]})})]})}),/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(Card,{className:\"card-chart\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-category\",children:\"Temperatura\"}),/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Temperatura\"})]}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-area\",style:{height:'350px'},children:/*#__PURE__*/_jsx(Line,{data:formatTemperatureData,options:chartOptions})})}),/*#__PURE__*/_jsx(CardFooter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"now-ui-icons arrows-1_refresh-69\"}),\" Tiempo real\"]})})]})}),/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(Card,{className:\"card-chart\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-category\",children:\"Oxidaci\\xF3n\"}),/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Medidor de ORP\"})]}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-area\",style:{height:'350px'},children:/*#__PURE__*/_jsx(Bar,{data:formatOrpData,options:chartOptions})})}),/*#__PURE__*/_jsx(CardFooter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"now-ui-icons arrows-1_refresh-69\"}),\" Tiempo real\"]})})]})})]})})]});}export default Dashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}